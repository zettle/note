# 结构体

在 rust 中的结构体就有点像面对对象的属性类似，但 rust 并不是面对对象的语音。仅仅看上去相似而已，本质上是不一样。

结构体是 数据 的集合。

对象是 数据 + 算法（方法）的集合

下面演示怎么定义和使用结构体：

```rust
// 定义结构体
struct Student {
  username: String,
  age: u32,
  email: String
}

// 实例化结构体
let a = Student {
  username: String::from("xiaoming"),
  age: 18,
  email: String::from("xiaoming@qq.com")
};
println!("我是{},年龄{},邮箱是{}", a.username, a.age, a.email)
```

在 rust 中变量默认是不可变的，因此创建出来的结构体的实例默认也是不可变的。如果确定需要变成可变，也是需要给实例加上 `mut` 关键字

```rust
let mut s = Student {
  name: String::from("xiaoming"),
  age: 10,
  email: String::from("324324@qq.com")
};

s.name = String::from("小明");
```

**结构体作为参数：**

比如现在封装一个函数，参数是上面 `Student` 的结构体

```rust
 struct Student {
   name: String,
   age: u32,
   email: String,
}
fn say_hello(stu: &Student) { // 注意这里的结构体名需要加上&符号
  println!("{}, {}, {}", stu.name, stu.age, stu.email);
}
let mut s = Student {
  name: String::from("xiaoming"),
  age: 10,
  email: String::from("324324@qq.com")
};
say_hello(&s);  // 注意这里的实例需要加上&符号
```

### 为结构体声明方法

就想面对对象中，对象有属性和方法一样。在rust中我们可以通过 `impl` 为一个结构体添加方法

```rust
struct Student {
  name: String,
  age: u32,
  email: String,
}
impl Student {
  // 第1个参数自动是结构体的实例对象，一般我们命名为self，然后加个&号
  fn say_hello(&self) {
    println!("{}, {}, {}", self.name, self.age, self.email);
  }
}

let s = Student {
  name: String::from("xiaoming"),
  age: 10,
  email: String::from("324324@qq.com")
};
s.say_hello();
```

