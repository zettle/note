# vue和ts的类型

1. 表示可以传入一个组件，`type Component`

```ts
import { type Component } from "vue";

withDefaults(defineProps<{
  tag?: string | Component;
}>(), {});
```

2. 点击事件类型，用 `MouseEvent` 比 `Event` 更好

```vue
<template>
  <div @click="handleClick">
    点击
  </div>
</template>
<script lang="ts" setup>
function handleClick (ev: MouseEvent) {
  e.pageX; // 如果使用 Event，就会提示没有pageX等属性
}
</script>
```

3. provide 和 inject 的使用

需要建立一个公用的ts文件，声明好类型和key名

```ts
// constants.ts
export interface ButtonGroupContext {
  size?: 'default' | 'large' | 'small'
  type?: string
  disabled?: boolean
}
export const BUTTON_GROUP_CTX_KEY: InjectionKey<ButtonGroupContext> = Symbol('buttonGroupContext')
```

在父组件就可以注入

```ts
// 父组件
provide(BUTTON_GROUP_CTX_KEY, {
  size: 'default',
  type: '我是provide的type属性',
})
```

在子组件就可以引入

```ts
const buttonGroupCtx = inject(BUTTON_GROUP_CTX_KEY);
```

